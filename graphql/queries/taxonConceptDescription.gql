#import "~/graphql/fragments/taxonConceptFields.gql"

query taxonConceptQuery($id: ID!, $imagesPage: Int, $specimenImagesPage: Int) {
  taxonConcept(id: $id) {
    id
    taxonName {
      id
      fullName
      authorship
      protologue {
        id
        title
        publicationYear
        volume
        pages
      }
    }
    acceptedConcept {
      ...taxonConceptFields
    }
    synonymUsages {
      ...taxonConceptFields
    }
    misapplications {
      ...taxonConceptFields
      accordingTo {
        id
        title
      }
    }
    taxonomicStatus
    occurrenceStatus
    establishmentMeans

    createdBy {
      name
    }
    createdAt
    modifiedBy {
      name
    }
    updatedAt
    version
    heroImage {
      thumbnailUrl
      previewUrl
    }

    mapLinks {
      profileMap
      distributionMap
      mapSource
    }
    bioregions {
      id
      occurrenceStatus {
        name
      }
      establishmentMeans {
        name
      }
      bioregion {
        type
        properties {
          name
          code
          id
          number
          regionCode
        }
      }
    }
    parkReserves {
      id
      parkReserve {
        properties {
          name
          nameShort
        }
      }
      occurrenceStatus {
        name
        label
      }
      establishmentMeans {
        name
        label
      }
    }
    localGovernmentAreas {
      id
      localGovernmentArea {
        properties {
          name
          nameAbbr
        }
      }
      occurrenceStatus {
        name
        label
      }
      establishmentMeans {
        name
        label
      }
    }

    preferredVernacularName {
      id
      name
    }
    images(page: $imagesPage, first: 24) {
      data {
        id
        previewUrl
        thumbnailUrl
        assetCreationDate
        caption
        creator
        license
        rights
        subtype
      }
      paginatorInfo {
        count
        currentPage
        hasMorePages
        total
      }
    }
    specimenImages(page: $specimenImagesPage, first: 24) {
      data {
        id
        thumbnailUrl
        alaImageUuid
        caption
      }
      paginatorInfo {
        count
        currentPage
        hasMorePages
        total
      }
    }

    currentProfile {
      profile
    }
    taxonTreeDefItem {
      id
      name
      rankId
    }
    parent {
      id

      taxonName {
        id
        fullName
        authorship
      }
    }
    children {
      ...taxonConceptFields
      taxonTreeDefItem {
        id
        name
        rankId
      }
    }
    siblings {
      ...taxonConceptFields
    }
    higherClassification {
      id
      depth
      taxonConcept {
        ...taxonConceptFields
        taxonTreeDefItem {
          id
          name
          rankId
        }
      }
    }
    identificationKeys {
      id
      title
      taxonomicScope
      geographicScope
    }
  }
}
